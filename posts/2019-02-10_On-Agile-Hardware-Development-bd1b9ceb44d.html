<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>On Agile Hardware Development</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">On Agile Hardware Development</h1>
</header>
<section data-field="subtitle" class="p-summary">
This is continuation of my research started in this post, specifically the claim 3, “Hardware design shops are getting better at what they…
</section>
<section data-field="body" class="e-content">
<section name="888f" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="e329" id="e329" class="graf graf--h3 graf--leading graf--title">On Agile Hardware Development</h3><p name="0406" id="0406" class="graf graf--p graf-after--h3">This is continuation of my research started in this <a href="https://medium.com/@akhounov/my-take-on-progpow-looking-for-a-reasonable-answer-to-a-reasonable-question-9f13ffd4e9d7" data-href="https://medium.com/@akhounov/my-take-on-progpow-looking-for-a-reasonable-answer-to-a-reasonable-question-9f13ffd4e9d7" class="markup--anchor markup--p-anchor" target="_blank">post</a>, specifically the claim 3, “<strong class="markup--strong markup--p-strong">Hardware design shops are getting better at what they do</strong>”.</p><p name="83c8" id="83c8" class="graf graf--p graf-after--p">Yesterday evening, I read an article in ACM Communications magazine, called “<strong class="markup--strong markup--p-strong">A New Golden Age for Computer Architecture</strong>” by John L. Hennessy and David A. Patterson (yes, it is the same Patterson as in Fisher, Lynch, Patterson in FLP-impossibility that is often quoted by consensus algorithm researchers).</p><p name="c3ba" id="c3ba" class="graf graf--p graf-after--p"><a href="https://vimeo.com/282920166" data-href="https://vimeo.com/282920166" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Here is the video</a> of the talk (given by David Patterson on 13th of June 2018) that goes over the same points as the article, and more. I will go over the main points that I think are relevant in the context of cryptocurrency mining and other application of specialised hardware in blockchain/cryptocurrency industry (STARK prover hardware, elliptic curve units, finite field arithmetic units, etc.):</p><h4 name="1b80" id="1b80" class="graf graf--h4 graf-after--p">Google TPU</h4><p name="8930" id="8930" class="graf graf--p graf-after--h4">Around 36:05 in the video.</p><figure name="6460" id="6460" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 537px; max-height: 459px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 85.5%;"></div><img class="graf-image" data-image-id="1*IW0_CNHO3asxbyaHtAnuwg.png" data-width="537" data-height="459" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*IW0_CNHO3asxbyaHtAnuwg.png"></div><figcaption class="imageCaption">TPU — Tensor Processor Unit, developed by Google and announced in 2016</figcaption></figure><p name="0f39" id="0f39" class="graf graf--p graf-after--figure">Google announced TPU (Tensor Processor Unit) in 2016, which is currently the most famous example of DSA (Domain Specific Architecture). For machine learning, TPUs were announced to be 10x faster than completion, and it is now used by billions of people. It also sparked a lot of interest in DSA and tons of activity like creations of startups and acquisitions. Clock speed is lower than CPUs or GPUs, matrix multiply units use systolic architecture, there are no hierarchical memory caches, it has more on-chip memory than GPUs. Performance per watt is 83x better than CPU, and 29x better than GPU.</p><h4 name="38ec" id="38ec" class="graf graf--h4 graf-after--p">New architects/designers are needed</h4><p name="a91e" id="a91e" class="graf graf--p graf-after--h4">Around 38:52 in the video.</p><p name="c6a2" id="c6a2" class="graf graf--p graf-after--p">Up to now it has been that the Instruction Set specs were binary compatible. Now we need new type of “vertical” designers who understand applications, DSLs (Domain Specific Languages), compilers, hardware architecture, and the implementations. Because hardware spec can be flexible too.</p><h4 name="a7a1" id="a7a1" class="graf graf--h4 graf-after--p">Open architectures</h4><p name="31cd" id="31cd" class="graf graf--p graf-after--h4">Around 39:28 in the video.</p><p name="e268" id="e268" class="graf graf--p graf-after--p">When they started with RISC-V at Berkley, they wanted to use x86 &amp; ARM instruction set architectures, but they were both complicated and had IP issues. They instead decided to create a “clean-slate” architecture in 3 months, and released frozen spec in 4 years (yes, it took a bit longer than planned).</p><p name="6ec6" id="6ec6" class="graf graf--p graf-after--p">Now everyone can use RISC-V (and people already do) as an Open Architecture.</p><p name="7b8b" id="7b8b" class="graf graf--p graf-after--p">Now RISC-V Foundation counts more than 100 members (and growing), and companies like NVidia and Western Digital are switching their controller chips to RISC-V.</p><p name="9a89" id="9a89" class="graf graf--p graf-after--p">The goal of Open Architecture is “Create industry-standard open ISAs (Instruction Set Architectures) for all computing devices — Linux for processors”.</p><h4 name="7b2f" id="7b2f" class="graf graf--h4 graf-after--p">Agile Hardware Development</h4><p name="3bbd" id="3bbd" class="graf graf--p graf-after--h4">Around 47:12 in the video.</p><p name="4857" id="4857" class="graf graf--p graf-after--p">New CAD (Computer Aided Design) enables software development techniques to make <strong class="markup--strong markup--p-strong">small hardware development teams</strong> productive via abstraction &amp; reuse.</p><figure name="e903" id="e903" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 430px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 61.4%;"></div><img class="graf-image" data-image-id="1*X8MHSEPqJjc-97XhiI8hHQ.png" data-width="1513" data-height="929" src="https://cdn-images-1.medium.com/max/800/1*X8MHSEPqJjc-97XhiI8hHQ.png"></div><figcaption class="imageCaption">A slide from David Paterson’s presentation about stages of Agile Hardware Development</figcaption></figure><p name="0bfa" id="0bfa" class="graf graf--p graf-after--figure">Couple of things I did not appreciate until I read the article and listened to the video:</p><ol class="postList"><li name="2954" id="2954" class="graf graf--li graf-after--p">There can be multiple stages of design (FPGA, ASIC flow, Tape-in), before “tape-out” (which is the stage where you supposedly fork out a few millions of dollars and wait for couple of months to get your masks back).</li><li name="adf9" id="adf9" class="graf graf--li graf-after--li">The crucial thing about Tape-in is that you can get very accurate estimates about the performance of your chip and its power consumption, before you go ahead and spend millions on tape out.</li><li name="9059" id="9059" class="graf graf--li graf-after--li">You can rent FPGAs on AWS to tests things out before moving the the ASIC flow.</li></ol><p name="2964" id="2964" class="graf graf--p graf-after--li">All these things reduce the cost (and will continue to reduce it even further) for hardware design.</p><h4 name="6c32" id="6c32" class="graf graf--h4 graf-after--p">Golden Age of Hardware Architecture is upon us</h4><figure name="a481" id="a481" class="graf graf--figure graf-after--h4"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 322px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 46.1%;"></div><img class="graf-image" data-image-id="1*DIhx8Zjq4luMm5Z_wxvgVw.png" data-width="1874" data-height="863" src="https://cdn-images-1.medium.com/max/800/1*DIhx8Zjq4luMm5Z_wxvgVw.png"></div><figcaption class="imageCaption">According to J.Hennessy and D.Patterson, the Golden Age is coming!</figcaption></figure><p name="c6d3" id="c6d3" class="graf graf--p graf-after--figure">Hardware architects will now need to optimise energy and performance without better transistors.</p><p name="2eb6" id="2eb6" class="graf graf--p graf-after--p">If J. Hennessy and D. Patterson are right, then we need to be much more used to the idea that hardware design will become more sophisticated, open, and competitive, and trying to fight this trend is conterproductive.</p><h4 name="218d" id="218d" class="graf graf--h4 graf-after--p">Interesting questions and answers</h4><ol class="postList"><li name="7afb" id="7afb" class="graf graf--li graf-after--h4">Answering one of the questions, David says that for TSMC (one the foundries, companies that perform Tape-Out of chips), the cost of 7nm transistor is the same as the cost of 28nm transistor, meaning that the cost of transistor does not go down anymore when you make transistors smaller and smaller. So the benefits of making smaller and smaller transistors will stop very soon, and this is already happening. This would lead to a more competitive ecosystem of foundries (which is currently dominated by TSMC and Samsung).</li><li name="3d62" id="3d62" class="graf graf--li graf-after--li">There was a question about IoT domain, where both energy and cost are very sensitive topics (as they are in the mining domain). The instruction set really matters in these domains. This is why open architecture (RISC-V), which is not locked up on x86 (for laptops) or ARM (for mobile phones), has a real opportunity.</li><li name="bab8" id="bab8" class="graf graf--li graf-after--li">In another answer, David quotes New York Times that there were 35 hardware startups in that area (I am assuming area of Berkley-Stanford), and there are some who are saying there are actually 55 startups.</li><li name="def6" id="def6" class="graf graf--li graf-after--li">RISC-V may become a commercial force to be reckoned with (so that you do not have to go to Intel/AMD/ARM/Nvidia if you have some design improvements). Something that Linux did for the operating systems, an Open Hardware Architecture can do to processors and computers.</li><li name="4cd9" id="4cd9" class="graf graf--li graf-after--li">The Achilles heel in the “Golden Age” argument is that CAD software is extremely expensive at the moment. It is a practical obstacle for many hardware designers. Development of open-source CAD software would help a lot.</li></ol><h4 name="ba4f" id="ba4f" class="graf graf--h4 graf-after--li">Conclusion</h4><p name="df27" id="df27" class="graf graf--p graf-after--h4">A lot of thinking, arguments and intuition about hardware that still prevail in the public domain are based on the last 50 years of history where the trends like Moore’s law, Dennard scaling, and microminiaturisation of transistors were on-going. As most of these effects cease to apply, we find ourselves in the new world, the “Golden Age of Hardware Architecture”, which requires new thinking, and understanding that the improved architecture will now become the most important tool for advancements in specialised hardware.</p><p name="e442" id="e442" class="graf graf--p graf-after--p graf--trailing">How does it relate to Ethereum and ProgPOW, for example? I think there is still a misplaced belief that it is very hard or impossible to beat GPUs on ProgPOW with a specialised hardware, based on a different architecture. Google TPU is an example where modifying architecture (without modifying parts like memory) gives 29x advantage over GPUs. GPUs as they currently stand, are still way too general-purpose.</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@akhounov" class="p-author h-card">Alexey Akhunov</a> on <a href="https://medium.com/p/bd1b9ceb44d"><time class="dt-published" datetime="2019-02-10T11:37:08.315Z">February 10, 2019</time></a>.</p><p><a href="https://medium.com/@akhounov/on-agile-hardware-development-bd1b9ceb44d" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on July 28, 2020.</p></footer></article></body></html>